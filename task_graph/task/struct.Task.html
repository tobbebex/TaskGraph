<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="generator" content="rustdoc">
    <meta name="description" content="API documentation for the Rust `Task` struct in crate `task_graph`.">
    <meta name="keywords" content="rust, rustlang, rust-lang, Task">

    <title>task_graph::task::Task - Rust</title>

    <link rel="stylesheet" type="text/css" href="../../main.css">

    
    
</head>
<body class="rustdoc">
    <!--[if lte IE 8]>
    <div class="warning">
        This old browser is unsupported and will most likely display funky
        things.
    </div>
    <![endif]-->

    

    <section class="sidebar">
        
        <p class='location'><a href='../index.html'>task_graph</a>::<wbr><a href='index.html'>task</a></p><script>window.sidebarCurrent = {name: 'Task', ty: 'struct', relpath: ''};</script><script defer src="sidebar-items.js"></script>
    </section>

    <nav class="sub">
        <form class="search-form js-only">
            <div class="search-container">
                <input class="search-input" name="search"
                       autocomplete="off"
                       placeholder="Click or press 'S' to search, '?' for more options..."
                       type="search">
            </div>
        </form>
    </nav>

    <section id='main' class="content struct">
<h1 class='fqn'><span class='in-band'>Struct <a href='../index.html'>task_graph</a>::<wbr><a href='index.html'>task</a>::<wbr><a class='struct' href=''>Task</a><wbr></span><span class='out-of-band'><span id='render-detail'>
            <a id="collapse-all" href="#">[-]</a>&nbsp;<a id="expand-all" href="#">[+]</a>
        </span><a id='src-524' href='../../src/task_graph/task.rs.html#61-65'>[src]</a></span></h1>
<pre class='rust struct'>pub struct Task&lt;A: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static&gt; {
    // some fields omitted
}</pre><div class='docblock'><p>A computation that eventually will produce a value that other tasks can depend on.</p>

<p>A graph of dependent tasks can be created by chaining together several tasks with
then and join. Parallelism is achived when multiple tasks depend on the same cloned task. 
Cloning a task will clone the produced value, but not run the function twice. If the produced
value is not <code>Clone</code>, the function <code>arc</code> can be used to wrap the value in an <code>Arc</code> (but will
then require the original value to be <code>Sync</code>).
There is virtually no locking involved; tasks will simply not be scheduled until 
all dependent tasks are done. A task can be converted into a <code>Future</code> in order to
allow blocking for a task to finish and to retrieve its result.</p>

<p>The result from the computation will need to be <code>Send</code>. <code>Task</code> implements <code>Send</code> itself and can thus
be used inside and returned from other tasks (effectively forming a monad).</p>
</div><h2 id='methods'>Methods</h2><h3 class='impl'><a class='stability Unmarked' title='No stability level'></a><code>impl&lt;A&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt; <span class='where'>where A: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static</span></code></h3><div class='impl-items'><h4 id='method.from_value' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.from_value' class='fnname'>from_value</a>(val: A) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt;</code></h4>
<div class='docblock'><p>Create a finished task from a value</p>
</div><h4 id='method.from_fn' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.from_fn' class='fnname'>from_fn</a>&lt;F, S&gt;(sched: &amp;S, fun: F) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt; <span class='where'>where F: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html' title='core::ops::FnOnce'>FnOnce</a>() -&gt; A + 'static, S: <a class='trait' href='../../task_graph/scheduler/trait.Scheduler.html' title='task_graph::scheduler::Scheduler'>Scheduler</a> + 'static</span></code></h4>
<div class='docblock'><p>Create a task from a function that will be scheduled to run in <code>sched</code>.</p>
</div><h4 id='method.never' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.never' class='fnname'>never</a>() -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt;</code></h4>
<div class='docblock'><p>Create a task that never finishes</p>

<p>Tasks made dependent on this task will never be scheduled or run.</p>
</div><h4 id='method.then' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.then' class='fnname'>then</a>&lt;B, F, S&gt;(self, sched: &amp;S, fun: F) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;B&gt; <span class='where'>where F: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html' title='core::ops::FnOnce'>FnOnce</a>(A) -&gt; B + 'static, S: <a class='trait' href='../../task_graph/scheduler/trait.Scheduler.html' title='task_graph::scheduler::Scheduler'>Scheduler</a> + 'static, B: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static</span></code></h4>
<div class='docblock'><p>Create a task that is a continuation from this task</p>

<p>This continuation will run in parallel with other continuations created from clones of the same task.
The function <code>fun</code> will be scheduled on <code>sched</code> as soon as the current task that the 
continuation was created from is finished.</p>
</div><h4 id='method.then_forget' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.then_forget' class='fnname'>then_forget</a>&lt;F, S&gt;(self, sched: &amp;S, fun: F) <span class='where'>where F: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/ops/trait.FnOnce.html' title='core::ops::FnOnce'>FnOnce</a>(A) + 'static, S: <a class='trait' href='../../task_graph/scheduler/trait.Scheduler.html' title='task_graph::scheduler::Scheduler'>Scheduler</a> + 'static</span></code></h4>
<div class='docblock'><p>Run a function as a continuation from this task, but don&#39;t return it in a task</p>

<p>This continuation will run in parallel with other continuations created from clones of the same task.
The function <code>fun</code> will be scheduled on <code>sched</code> as soon as the current task that the 
continuation was created from is finished.</p>
</div><h4 id='method.join' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.join' class='fnname'>join</a>&lt;B&gt;(self, other: <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;B&gt;) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;<a href='http://doc.rust-lang.org/nightly/std/primitive.tuple.html'>(A, B)</a>&gt; <span class='where'>where A: 'static, B: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static</span></code></h4>
<div class='docblock'><p>Create a task that contains the result of this and another task.</p>

<p>Continuations on this task will run in parallel with other continuations created from clones of these tasks.
The returned task will be done as soon as both the current task and the other
task are finished. </p>
</div><h4 id='method.into_future' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.into_future' class='fnname'>into_future</a>(self) -&gt; <a class='struct' href='http://doc.rust-lang.org/nightly/std/sync/future/struct.Future.html' title='std::sync::future::Future'>Future</a>&lt;A&gt; <span class='where'>where A: 'static</span></code></h4>
<div class='docblock'><p>Turn this task into a future, from which the result can be retrieved</p>
</div><h4 id='method.is_done' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.is_done' class='fnname'>is_done</a>(&amp;self) -&gt; <a href='http://doc.rust-lang.org/nightly/std/primitive.bool.html'>bool</a></code></h4>
<div class='docblock'><p>Returns if this task has finished</p>

<p>Mostly only useful for testing, or together with waiting for a future returned from <code>into_future</code></p>
</div></div><h3 class='impl'><a class='stability Unmarked' title='No stability level'></a><code>impl&lt;A&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt; <span class='where'>where A: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Sync.html' title='core::marker::Sync'>Sync</a> + 'static</span></code></h3><div class='impl-items'><h4 id='method.arc' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.arc' class='fnname'>arc</a>(self) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;<a class='struct' href='http://doc.rust-lang.org/nightly/alloc/arc/struct.Arc.html' title='alloc::arc::Arc'>Arc</a>&lt;A&gt;&gt;</code></h4>
</div><h3 class='impl'><a class='stability Unmarked' title='No stability level'></a><code>impl&lt;A&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;<a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt;&gt; <span class='where'>where A: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static</span></code></h3><div class='impl-items'><h4 id='method.unwrap' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.unwrap' class='fnname'>unwrap</a>(self) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt;</code></h4>
<div class='docblock'><p>Retrieve the value from the inner task</p>

<p>This is removing one layer of <code>Task</code> without blocking, i.e. the resulting 
task will not run until the inner task is finished.</p>
</div></div><h3 class='impl'><a class='stability Unmarked' title='No stability level'></a><code>impl&lt;A&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;<a class='struct' href='http://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;A&gt;&gt; <span class='where'>where A: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static</span></code></h3><div class='impl-items'><h4 id='method.for_each' class='method'><a class='stability Unmarked' title='No stability level'></a><code>fn <a href='#method.for_each' class='fnname'>for_each</a>&lt;B: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a>, F, S&gt;(self, sched: &amp;S, fun: F) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;<a class='struct' href='http://doc.rust-lang.org/nightly/collections/vec/struct.Vec.html' title='collections::vec::Vec'>Vec</a>&lt;B&gt;&gt; <span class='where'>where F: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Sync.html' title='core::marker::Sync'>Sync</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/ops/trait.Fn.html' title='core::ops::Fn'>Fn</a>(A) -&gt; B + 'static, S: <a class='trait' href='../../task_graph/scheduler/trait.Scheduler.html' title='task_graph::scheduler::Scheduler'>Scheduler</a> + 'static</span></code></h4>
</div><h2 id='implementations'>Trait Implementations</h2><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl&lt;A: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + 'static&gt; <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> for <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt;</code></h3><div class='impl-items'></div><h3 class='impl'><a class='stability Stable' title='Stable'></a><code>impl&lt;A&gt; <a class='trait' href='http://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> for <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt; <span class='where'>where A: <a class='trait' href='http://doc.rust-lang.org/nightly/core/marker/trait.Send.html' title='core::marker::Send'>Send</a> + <a class='trait' href='http://doc.rust-lang.org/nightly/core/clone/trait.Clone.html' title='core::clone::Clone'>Clone</a> + 'static</span></code></h3><div class='impl-items'><h4 id='method.clone' class='method'><a class='stability Stable' title='Stable'></a><code>fn <a href='#method.clone' class='fnname'>clone</a>(&amp;self) -&gt; <a class='struct' href='../../task_graph/task/struct.Task.html' title='task_graph::task::Task'>Task</a>&lt;A&gt;</code></h4>
<div class='docblock'><p>Clones the task into another task that contains a clone of the original tasks value when the original task completes</p>

<p>The cloned task will be done when the original task is, and no other computation will be scheduled</p>
</div><h4 id='method.clone_from' class='tymethod'><a class='stability Unstable' title='Unstable: this function is rarely used'></a><code>fn <a href='#tymethod.clone_from' class='fnname'>clone_from</a>(&amp;mut self, source: &amp;Self)</code></h4>
</div></section>
    <section id='search' class="content hidden"></section>

    <section class="footer"></section>

    <div id="help" class="hidden">
        <div class="shortcuts">
            <h1>Keyboard shortcuts</h1>
            <dl>
                <dt>?</dt>
                <dd>Show this help dialog</dd>
                <dt>S</dt>
                <dd>Focus the search field</dd>
                <dt>&larrb;</dt>
                <dd>Move up in search results</dd>
                <dt>&rarrb;</dt>
                <dd>Move down in search results</dd>
                <dt>&#9166;</dt>
                <dd>Go to active search result</dd>
            </dl>
        </div>
        <div class="infos">
            <h1>Search tricks</h1>
            <p>
                Prefix searches with a type followed by a colon (e.g.
                <code>fn:</code>) to restrict the search to a given type.
            </p>
            <p>
                Accepted types are: <code>fn</code>, <code>mod</code>,
                <code>struct</code>, <code>enum</code>,
                <code>trait</code>, <code>typedef</code> (or
                <code>tdef</code>).
            </p>
        </div>
    </div>

    

    <script>
        window.rootPath = "../../";
        window.currentCrate = "task_graph";
        window.playgroundUrl = "";
    </script>
    <script src="../../jquery.js"></script>
    <script src="../../main.js"></script>
    
    <script async src="../../search-index.js"></script>
</body>
</html>